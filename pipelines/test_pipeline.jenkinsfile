@Library('jenkins-shared-library') _
pipeline {
    agent any

    stages {
        stage('Example Stage') {
            steps {
                script {
                    // 加载 CommonPipelineFunctions.groovy
                    def commonPipeline = load '../groovy/RunCmd.groovy'
                    
                    // 创建一个实例
                    def pipelineFunctions = new commonPipeline.CommonPipelineFunctions(this)
                    
                    // 使用实例中的方法
                    pipelineFunctions.runCmd('echo Hello World')
                }
            }
        }
        stage('Calculate Sum') {
            steps {
                script {
                    def sum = 0
                    (1..100).each { number ->
                        sum += number
                    }
                    println "The sum of numbers from 1 to 100 is: $sum"
                }
            }
        }
        stage('Calculate Sum2') {
            steps {
                script {
                    def sum = 0
                    (1..200).each { number ->
                        sum += number
                    }
                    println "The sum of numbers from 1 to 200 is: $sum"
                }
            }
        }
        stage('Calculate Sum3') {
            steps {
                script {
                    def sum = 0
                    (1..300).each { number ->
                        sum += number
                    }
                    println "The sum of numbers from 1 to 300 is: $sum"
                }
            }
        }
    }
}
